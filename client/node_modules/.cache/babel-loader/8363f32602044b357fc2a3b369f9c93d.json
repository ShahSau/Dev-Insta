{"ast":null,"code":"import React,{Fragment}from'react';import{Link}from'react-router-dom';import formatDate from'../../utils/formatDate';import{connect}from'react-redux';import{addLike,removeLike,deletePost}from'../../actions/post';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostItem=function PostItem(_ref){var addLike=_ref.addLike,removeLike=_ref.removeLike,deletePost=_ref.deletePost,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,showActions=_ref.showActions;return/*#__PURE__*/_jsxs(\"div\",{className:\"post bg-white p-1 my-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(user),children:[/*#__PURE__*/_jsx(\"img\",{className:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:name})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-1\",children:text}),/*#__PURE__*/_jsxs(\"p\",{className:\"post-date\",children:[\"Posted on \",formatDate(date)]}),showActions&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return addLike(_id);},type:\"button\",className:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/_jsx(\"span\",{children:likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeLike(_id);},type:\"button\",className:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\",children:[\"Discussion\",' ',comments.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"comment-count\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deletePost(_id);},type:\"button\",className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]})]});};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"sources":["/Users/shahriar/Downloads/Dev_Insta-master/client/src/components/posts/PostItem.js"],"names":["React","Fragment","Link","formatDate","connect","addLike","removeLike","deletePost","PostItem","auth","post","_id","text","name","avatar","user","likes","comments","date","showActions","length","loading","defaultProps","mapStateToProps","state"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,wBAAvB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,CAAkBC,UAAlB,CAA8BC,UAA9B,KAAgD,oBAAhD,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,UACfH,CAAAA,OADe,MACfA,OADe,CAEfC,UAFe,MAEfA,UAFe,CAGfC,UAHe,MAGfA,UAHe,CAIfE,IAJe,MAIfA,IAJe,gBAKfC,IALe,CAKPC,GALO,WAKPA,GALO,CAKFC,IALE,WAKFA,IALE,CAKIC,IALJ,WAKIA,IALJ,CAKUC,MALV,WAKUA,MALV,CAKkBC,IALlB,WAKkBA,IALlB,CAKwBC,KALxB,WAKwBA,KALxB,CAK+BC,QAL/B,WAK+BA,QAL/B,CAKyCC,IALzC,WAKyCA,IALzC,CAMfC,WANe,MAMfA,WANe,oBAQf,aAAK,SAAS,CAAC,wBAAf,wBACE,kCACE,MAAC,IAAD,EAAM,EAAE,oBAAcJ,IAAd,CAAR,wBACE,YAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAED,MAAhC,CAAwC,GAAG,CAAC,EAA5C,EADF,cAEE,oBAAKD,IAAL,EAFF,GADF,EADF,cAOE,oCACE,UAAG,SAAS,CAAC,MAAb,UAAqBD,IAArB,EADF,cAEE,WAAG,SAAS,CAAC,WAAb,wBAAoCT,UAAU,CAACe,IAAD,CAA9C,GAFF,CAIGC,WAAW,eACV,MAAC,QAAD,yBACE,gBACE,OAAO,CAAE,yBAAMd,CAAAA,OAAO,CAACM,GAAD,CAAb,EADX,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,eAHZ,wBAKE,UAAG,SAAS,CAAC,kBAAb,EALF,CAKqC,GALrC,cAME,sBAAOK,KAAK,CAACI,MAAN,CAAe,CAAf,eAAoB,sBAAOJ,KAAK,CAACI,MAAb,EAA3B,EANF,GADF,cASE,eACE,OAAO,CAAE,yBAAMd,CAAAA,UAAU,CAACK,GAAD,CAAhB,EADX,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,eAHZ,uBAKE,UAAG,SAAS,CAAC,oBAAb,EALF,EATF,cAgBE,MAAC,IAAD,EAAM,EAAE,kBAAYA,GAAZ,CAAR,CAA2B,SAAS,CAAC,iBAArC,wBACa,GADb,CAEGM,QAAQ,CAACG,MAAT,CAAkB,CAAlB,eACC,aAAM,SAAS,CAAC,eAAhB,UAAiCH,QAAQ,CAACG,MAA1C,EAHJ,GAhBF,CAsBG,CAACX,IAAI,CAACY,OAAN,EAAiBN,IAAI,GAAKN,IAAI,CAACM,IAAL,CAAUJ,GAApC,eACC,eACE,OAAO,CAAE,yBAAMJ,CAAAA,UAAU,CAACI,GAAD,CAAhB,EADX,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,gBAHZ,uBAKE,UAAG,SAAS,CAAC,cAAb,EALF,EAvBJ,GALJ,GAPF,GARe,EAAjB,CAyDAH,QAAQ,CAACc,YAAT,CAAwB,CACtBH,WAAW,CAAE,IADS,CAAxB,CAaA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAClCf,IAAI,CAAEe,KAAK,CAACf,IADsB,CAAZ,EAAxB,CAIA,cAAeL,CAAAA,OAAO,CAACmB,eAAD,CAAkB,CAAElB,OAAO,CAAPA,OAAF,CAAWC,UAAU,CAAVA,UAAX,CAAuBC,UAAU,CAAVA,UAAvB,CAAlB,CAAP,CACbC,QADa,CAAf","sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport formatDate from '../../utils/formatDate';\nimport { connect } from 'react-redux';\nimport { addLike, removeLike, deletePost } from '../../actions/post';\n\nconst PostItem = ({\n  addLike,\n  removeLike,\n  deletePost,\n  auth,\n  post: { _id, text, name, avatar, user, likes, comments, date },\n  showActions\n}) => (\n  <div className=\"post bg-white p-1 my-1\">\n    <div>\n      <Link to={`/profile/${user}`}>\n        <img className=\"round-img\" src={avatar} alt=\"\" />\n        <h4>{name}</h4>\n      </Link>\n    </div>\n    <div>\n      <p className=\"my-1\">{text}</p>\n      <p className=\"post-date\">Posted on {formatDate(date)}</p>\n\n      {showActions && (\n        <Fragment>\n          <button\n            onClick={() => addLike(_id)}\n            type=\"button\"\n            className=\"btn btn-light\"\n          >\n            <i className=\"fas fa-thumbs-up\" />{' '}\n            <span>{likes.length > 0 && <span>{likes.length}</span>}</span>\n          </button>\n          <button\n            onClick={() => removeLike(_id)}\n            type=\"button\"\n            className=\"btn btn-light\"\n          >\n            <i className=\"fas fa-thumbs-down\" />\n          </button>\n          <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\n            Discussion{' '}\n            {comments.length > 0 && (\n              <span className=\"comment-count\">{comments.length}</span>\n            )}\n          </Link>\n          {!auth.loading && user === auth.user._id && (\n            <button\n              onClick={() => deletePost(_id)}\n              type=\"button\"\n              className=\"btn btn-danger\"\n            >\n              <i className=\"fas fa-times\" />\n            </button>\n          )}\n        </Fragment>\n      )}\n    </div>\n  </div>\n);\n\nPostItem.defaultProps = {\n  showActions: true\n};\n\nPostItem.propTypes = {\n  post: PropTypes.object.isRequired,\n  auth: PropTypes.object.isRequired,\n  addLike: PropTypes.func.isRequired,\n  removeLike: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired,\n  showActions: PropTypes.bool\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, { addLike, removeLike, deletePost })(\n  PostItem\n);"]},"metadata":{},"sourceType":"module"}